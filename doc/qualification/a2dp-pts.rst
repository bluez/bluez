.. SPDX-License-Identifier: GPL-2.0-or-later
.. Copyright Â© 2025-2026 Collabora Ltd.

=================
A2DP test results
=================

:PTS version: 8.5.2 Build 5

Setup
=====

- Remove PTS device from Bluetooth devices

- Update "TSPX_player_feature_bitmask" in IXIT to "1FFAFFBBF3BFF9040800000000000000"

Tests
=====

The kernel and BlueZ versions represent the oldest version without backport
for which we know the test passed.

+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| Test name                    | Result   | Kernel  | BlueZ |                                                                         |
+==============================+==========+=========+=======+=========================================================================+
| A2DP/SNK/AS/BV-01-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-03-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 195                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-08-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 196                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-10-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 193                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-11-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 197                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-12-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 199                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-13-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 201                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-14-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 203                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-15-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 205                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-16-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 221                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/AVP/BI-20-C         | PASS     |     6.1 | 5.71  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop WirePlumber by running:                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user stop wireplumber                                   |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Run:                                                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - sudo avtest --reject setconf --reject-code 194                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Post-condition:                                                         |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Restart WirePlumber by running:                                       |
|                              |          |         |       |                                                                         |
|                              |          |         |       |   - systemctl --user start wireplumber                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Stop 'avtest'                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/CC/BV-01-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/CC/BV-02-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/CC/BV-05-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/CC/BV-06-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/CC/BV-07-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/CC/BV-08-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/REL/BV-01-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/SDP/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/SET/BV-01-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/SET/BV-03-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/SET/BV-05-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - this test requests a RF shielded box                                  |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SNK/SYN/BV-01-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/AS/BV-01-I          | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | Sometimes inconclusive, retry                                           |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/AS/BI-01-I          | PASS     |     6.1 | 5.69  | Sometimes inconclusive, retry                                           |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/CC/BV-09-I          | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/REL/BV-01-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/REL/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SDP/BV-01-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SET/BV-01-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Start Lollypop and play a file                                        |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SET/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SET/BV-03-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SET/BV-04-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SET/BV-05-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| A2DP/SRC/SET/BV-06-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| IOPT/CL/A2DP-SRC/SFC/BV-01-I | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
