.. SPDX-License-Identifier: GPL-2.0-or-later
.. Copyright © 2025-2026 Collabora Ltd.

==================
AVRCP test results
==================

:PTS version: 8.5.2 Build 5

Setup
=====

- Remove PTS device from Bluetooth devices

- Update "TSPX_player_feature_bitmask" in IXIT to "1FFAFFBBF3BFF9040800000000000000"

- The Bluetooth Transport path used for "busctl set-property …" is displayed by 'mpris-proxy',
  e.g. "Bluetooth Transport /org/bluez/hci0/dev_<BD_ADDR>/sep1/fd4 found":

  - Start "mpris-proxy" in a different terminal, it should run during all the AVRCP tests

Tests
=====

The kernel and BlueZ versions represent the oldest version without backport
for which we know the test passed.

+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| Test name                    | Result   | Kernel  | BlueZ |                                                                         |
+==============================+==========+=========+=======+=========================================================================+
| AVRCP/CT/CEC/BV-01-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On request create a Bluetooth connection from IUT to PTS                |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/CEC/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/CRC/BV-01-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/CRC/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/PTH/BV-01-C         | PASS     |     6.1 | 5.69  | - busctl call org.bluez /org/bluez/hci0/dev_<BD_ADDR> \                 |
|                              |          |         |       |   org.bluez.MediaControl1 VolumeUp                                      |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl call org.bluez /org/bluez/hci0/dev_<BD_ADDR> \                 |
|                              |          |         |       |   org.bluez.MediaControl1 VolumeDown                                    |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/PTT/BV-02-I         | PASS     |     6.1 | 5.69  | - busctl call org.bluez /org/bluez/hci0/dev_<BD_ADDR> \                 |
|                              |          |         |       |   org.bluez.MediaControl1 VolumeUp                                      |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl call org.bluez /org/bluez/hci0/dev_<BD_ADDR> \                 |
|                              |          |         |       |   org.bluez.MediaControl1 VolumeDown                                    |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/VLH/BI-03-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       | - Start VLC                                                             |
|                              |          |         |       | - Cancel first try when requesting to initiate a control channel        |
|                              |          |         |       |   connection, then retry this test                                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On request create a Bluetooth connection from IUT to PTS                |
|                              |          |         |       |                                                                         |
|                              |          |         |       | On volume change request:                                               |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl set-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/sep1/fd0 \|
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 64                                 |
|                              |          |         |       |                                                                         |
|                              |          |         |       | Check using audio volume panel                                          |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/VLH/BI-04-C         | PASS     |     6.1 | 5.69  | Check using audio volume panel                                          |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/VLH/BV-01-C         | PASS     |     6.1 | 5.69  | On volume change request:                                               |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl set-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/sep1/fd0 \|
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 64                                 |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/VLH/BV-03-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/VLH/BV-01-I         | PASS     |     6.1 | 5.69  | Check using audio volume panel                                          |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/VLH/BV-02-I         | PASS     |     6.1 | 5.69  | On volume change request:                                               |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl set-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/sep1/fd0 \|
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 64                                 |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/CT/NFY/BV-01-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On request create a Bluetooth connection from IUT to PTS                |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/CEC/BV-01-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On request create a Bluetooth connection from IUT to PTS                |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/CFG/BI-01-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/CFG/BV-02-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/CRC/BV-01-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/CRC/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/ICC/BV-01-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/ICC/BV-02-I         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/INV/BI-01-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/INV/BV-02-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MDI/BV-02-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MDI/BV-04-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MDI/BV-05-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BI-01-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-02-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       | - Start VLC and open a file                                             |
|                              |          |         |       | - Cancel first try when requesting to initiate a control channel        |
|                              |          |         |       |   connection, then retry this test                                      |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On request create a Bluetooth connection from IUT to PTS                |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-06-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-09-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-12-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-01-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
|                              |          |         |       | - Start VLC                                                             |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | VLC is shown as "Media Player: Player"                                  |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-02-I         | PASS     |     6.1 | 5.69  | Check using audio volume panel                                          |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/MPS/BV-03-I         | PASS     |     6.1 | 5.69  | Check using audio volume panel                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | Sometimes the volume is changed on Speaker instead of the Bluetooth PTS |
|                              |          |         |       | audio device                                                            |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/NFY/BI-01-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/NFY/BV-02-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Start Lollypop and open a file                                        |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On request play the file in Lollypop                                    |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/NFY/BV-04-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Start VLC and play a file                                             |
|                              |          |         |       +-------------------------------------------------------------------------+
|                              |          |         |       | On "Place the IUT into a state where no track is currently selected…"   |
|                              |          |         |       | request close VLC then press OK                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/NFY/BV-05-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Start VLC and play a file                                             |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/NFY/BV-08-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Start VLC and open a file                                             |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/PTT/BV-01-I         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Start Lollypop, play a file then pause it (not stopped)               |
|                              |          |         |       |   (VLC doesn't receive the Play command but receive the Stop command)   |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/PTT/BV-02-I         | PASS     |     6.1 | 5.69  | Check using audio volume panel                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | Sometimes the volume is changed on Speaker instead of the Bluetooth PTS |
|                              |          |         |       | audio device, in this case check Bluetooth volume is above 0% or        |
|                              |          |         |       | manually increase it                                                    |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/RCR/BV-02-C         | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Open 'sbc_enc_test_04_more_than_512_bytes_metadata.mp3' file in VLC   |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/RCR/BV-04-C         | PASS     |     6.1 | 5.69  |                                                                         |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/VLH/BI-01-C         | PASS     |     6.1 | 5.69  | Sometimes inconclusive, retry                                           |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/VLH/BI-02-C         | PASS     |     6.1 | 5.69  | Sometimes inconclusive, retry                                           |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/VLH/BV-02-C         | PASS     |     6.1 | 5.69  | Sometimes inconclusive, retry                                           |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/VLH/BV-04-C         | PASS     |     6.1 | 5.69  | On volume change request:                                               |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl set-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/fd0 \     |
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 64                                 |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/VLH/BV-01-I         | PASS     |     6.1 | 5.69  | On volume change request:                                               |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl set-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/fd0 \     |
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 64                                 |
|                              |          |         |       |                                                                         |
|                              |          |         |       | Sometimes inconclusive, retry                                           |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| AVRCP/TG/VLH/BV-02-I         | PASS     |     6.1 | 5.69  | Expect to hear sound (or not), then silence:                            |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl get-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/fd0 \     |
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 0                                  |
|                              |          |         |       |                                                                         |
|                              |          |         |       | (click OK), then sound really low (click OK):                           |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - busctl get-property org.bluez /org/bluez/hci0/dev_<BD_ADDR>/fd0 \     |
|                              |          |         |       |   org.bluez.MediaTransport1 Volume q 64                                 |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
| IOPT/CL/AVRCP-CT/SFC/BV-03-I | PASS     |     6.1 | 5.69  | Pre-condition:                                                          |
|                              |          |         |       |                                                                         |
|                              |          |         |       | - Remove PTS device from Bluetooth devices                              |
+------------------------------+----------+---------+-------+-------------------------------------------------------------------------+
